<!DOCTYPE html>
<html>
<head>
  <style>
    .error {
        color: red;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-lite@4.17.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm//vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}, "axis": {"labelFontSize": 14, "titleFontSize": 17}, "legend": {"labelFontSize": 17, "titleColor": "black", "titleFontSize": 17}, "title": {"align": "center", "anchor": "middle", "fontSize": 19}}, "vconcat": [{"mark": "bar", "encoding": {"color": {"condition": {"field": "Country", "scale": {"domain": ["United States", "Canada", "China", "Israel", "United Kingdom", "Bermuda", "Brazil", "Switzerland", "Cayman Islands", "Netherlands", "Germany", "Ireland", "Australia", "Hong Kong", "Greece", "Argentina", "Singapore", "France", "India", "Mexico", "Luxembourg", "South Korea", "Japan", "Taiwan", "South Africa", "Chile", "Sweden", "Spain", "Monaco", "Belgium", "Norway", "Colombia", "Denmark", "Panama", "Malta", "Jersey", "Guernsey", "Peru", "Philippines", "Portugal", "Costa Rica", "Indonesia", "Finland", "Turkey", "United Arab Emirates", "Bahamas", "Italy"]}, "type": "nominal", "selection": "selector006"}, "value": "lightgray"}, "tooltip": [{"field": "Country", "title": "Country", "type": "nominal"}, {"field": "count_mentioned", "title": "Mentions", "type": "quantitative"}], "x": {"field": "Country", "sort": {"field": "Country", "op": "count", "order": "ascending"}, "title": "Country", "type": "nominal"}, "y": {"field": "count_mentioned", "title": "The number of mentions", "type": "quantitative"}}, "height": 300, "selection": {"selector006": {"type": "interval", "encodings": ["x"]}}, "title": "Top 20 mentioned countries in Reddit (r/stocks)", "transform": [{"filter": {"selection": "selector005"}}], "width": 550}, {"mark": "bar", "encoding": {"color": {"condition": {"field": "Country", "scale": {"domain": ["United States", "Canada", "China", "Israel", "United Kingdom", "Bermuda", "Brazil", "Switzerland", "Cayman Islands", "Netherlands", "Germany", "Ireland", "Australia", "Hong Kong", "Greece", "Argentina", "Singapore", "France", "India", "Mexico", "Luxembourg", "South Korea", "Japan", "Taiwan", "South Africa", "Chile", "Sweden", "Spain", "Monaco", "Belgium", "Norway", "Colombia", "Denmark", "Panama", "Malta", "Jersey", "Guernsey", "Peru", "Philippines", "Portugal", "Costa Rica", "Indonesia", "Finland", "Turkey", "United Arab Emirates", "Bahamas", "Italy"]}, "type": "nominal", "selection": "selector005"}, "value": "lightgray"}, "tooltip": [{"field": "Country", "title": "Country", "type": "nominal"}, {"field": "count_mentioned", "title": "Mentions", "type": "quantitative"}], "x": {"field": "count_mentioned", "title": "The number of mentions", "type": "quantitative"}, "y": {"field": "Country", "sort": {"field": "Country", "op": "count", "order": "ascending"}, "title": "Country", "type": "nominal"}}, "height": 300, "selection": {"selector005": {"type": "multi", "fields": ["Country"]}}, "transform": [{"filter": {"selection": "selector006"}}], "width": 550}], "data": {"name": "data-0068e78e945a379ee8e8c3c4ee9c1f19"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.17.0.json", "datasets": {"data-0068e78e945a379ee8e8c3c4ee9c1f19": [{"Country": "United States", "count_mentioned": 3191}, {"Country": "Canada", "count_mentioned": 175}, {"Country": "China", "count_mentioned": 145}, {"Country": "Israel", "count_mentioned": 68}, {"Country": "United Kingdom", "count_mentioned": 46}, {"Country": "Bermuda", "count_mentioned": 27}, {"Country": "Brazil", "count_mentioned": 22}, {"Country": "Switzerland", "count_mentioned": 19}, {"Country": "Cayman Islands", "count_mentioned": 17}, {"Country": "Netherlands", "count_mentioned": 16}, {"Country": "Germany", "count_mentioned": 15}, {"Country": "Ireland", "count_mentioned": 15}, {"Country": "Australia", "count_mentioned": 14}, {"Country": "Hong Kong", "count_mentioned": 14}, {"Country": "Greece", "count_mentioned": 14}, {"Country": "Argentina", "count_mentioned": 13}, {"Country": "Singapore", "count_mentioned": 12}, {"Country": "France", "count_mentioned": 11}, {"Country": "India", "count_mentioned": 11}, {"Country": "Mexico", "count_mentioned": 11}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div class="error" style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>